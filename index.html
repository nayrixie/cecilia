<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa de Exportações Campo-Indústria</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        h1 {
            text-align: center;
            color: #333;
            padding: 20px;
            background-color: #fff;
            margin-bottom: 0;
            border-bottom: 1px solid #ddd;
        }
        #map {
            height: 600px; /* Altura do mapa */
            width: 90%; /* Largura do mapa */
            margin: 20px auto; /* Centraliza o mapa */
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        .info-box {
            background-color: #fff;
            padding: 15px;
            margin: 20px auto;
            width: 90%;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.05);
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        /* Estilo para os ícones personalizados (bolinhas coloridas) */
        .custom-div-icon {
            /* Os estilos específicos de cor e forma são injetados via JS */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 14px;
            font-weight: bold;
            color: white;
            box-sizing: border-box; /* Para incluir padding/border no tamanho */
        }
    </style>
</head>
<body>

    <h1>Mapa Interativo: Da Fazenda à Indústria</h1>
    <div class="info-box">
        <p>Este mapa exemplifica a localização de *fazendas* (produtoras) e *fábricas* (receptoras/processadoras) para facilitar a logística e o comércio. Os pontos são fictícios, mas situados na região central do Paraná.</p>
        <p><strong>Legenda:</strong></p>
        <div class="legend-item">
            <span class="custom-div-icon" style="background-color: #4CAF50; width: 24px; height: 24px; border-radius: 50%; border: 2px solid #333; margin-right: 10px;"></span> Fazendas (Produtores)
        </div>
        <div class="legend-item">
            <span class="custom-div-icon" style="background-color: #FFC107; width: 24px; height: 24px; border-radius: 50%; border: 2px solid #333; margin-right: 10px;"></span> Fábricas (Recebem Exportações)
        </div>
    </div>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
        // 1. Inicializa o mapa
        // Centraliza em Guarapuava, PR, Brasil [-25.3976, -51.4646]
        var map = L.map('map').setView([-25.3976, -51.4646], 9); // Nível de zoom 9

        // 2. Adiciona a camada de tiles do OpenStreetMap
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Função para criar um ícone de marcador personalizado (verde para fazendas, amarelo para fábricas)
        function createCustomMarkerIcon(color) {
            return L.divIcon({
                className: 'custom-div-icon', // Usamos esta classe para o estilo base
                html: `<div style="background-color: ${color}; width: 24px; height: 24px; border-radius: 50%; border: 2px solid #333;"></div>`,
                iconSize: [24, 24],
                iconAnchor: [12, 24], // Ponto do ícone que corresponde à localização do marcador
                popupAnchor: [0, -20] // Ponto do qual o popup deve "abrir"
            });
        }
        
        var farmIcon = createCustomMarkerIcon('#4CAF50'); // Verde
        var factoryIcon = createCustomMarkerIcon('#FFC107'); // Amarelo/Laranja


        // 3. Define as localizações (inventadas)
        var locations = [
            // Fazendas (Produtoras)
            {
                name: "Fazenda Aurora",
                type: "Fazenda",
                products: "Grãos (Milho, Soja), Trigo",
                coords: [-25.35, -51.50],
                icon: farmIcon
            },
            {
                name: "Sítio Boa Vista",
                type: "Fazenda",
                products: "Hortaliças (Alface, Tomate), Frutas",
                coords: [-25.45, -51.55],
                icon: farmIcon
            },
            {
                name: "Pecuária Serra Azul",
                type: "Fazenda",
                products: "Gado (Bovino de Corte), Leite",
                coords: [-25.50, -51.60],
                icon: farmIcon
            },
            {
                name: "Chácara Recanto Verde",
                type: "Fazenda",
                products: "Ovos, Aves Caipiras",
                coords: [-25.30, -51.40],
                icon: farmIcon
            },

            // Fábricas (Receptoras/Processadoras)
            {
                name: "Indústria Alimentícia Central S/A",
                type: "Fábrica",
                receives: "Grãos, Hortaliças, Frutas",
                produces: "Alimentos Processados, Sucos",
                coords: [-25.39, -51.48],
                icon: factoryIcon
            },
            {
                name: "Laticínios Progresso",
                type: "Fábrica",
                receives: "Leite",
                produces: "Leite Pasteurizado, Queijos, Iogurtes",
                coords: [-25.37, -51.45],
                icon: factoryIcon
            },
            {
                name: "Abatedouro Vale Verde",
                type: "Fábrica",
                receives: "Gado (Bovino), Aves",
                produces: "Carnes (Bovina, Aves)",
                coords: [-25.42, -51.52],
                icon: factoryIcon
            },
            {
                name: "Processadora de Cereais Grão Forte",
                type: "Fábrica",
                receives: "Milho, Soja, Trigo",
                produces: "Farinhas, Óleos, Rações",
                coords: [-25.48, -51.40],
                icon: factoryIcon
            }
        ];

        // 4. Adiciona marcadores para cada localização
        locations.forEach(function(loc) {
            var popupContent = `
                <h3>${loc.name}</h3>
                <p><strong>Tipo:</strong> ${loc.type}</p>
            `;
            if (loc.type === "Fazenda") {
                popupContent += `<p><strong>Produz:</strong> ${loc.products}</p>`;
            } else if (loc.type === "Fábrica") {
                popupContent += `
                    <p><strong>Recebe:</strong> ${loc.receives}</p>
                    <p><strong>Produz:</strong> ${loc.produces}</p>
                `;
            }

            L.marker(loc.coords, {icon: loc.icon})
                .addTo(map)
                .bindPopup(popupContent);
        });
    </script>

</body>
</html>
